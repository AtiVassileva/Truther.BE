CREATE TABLE Users (
  id INT PRIMARY KEY IDENTITY,
  email NVARCHAR(255) NOT NULL UNIQUE,
  password NVARCHAR(255) NOT NULL,
  username NVARCHAR(255) NOT NULL UNIQUE
);

CREATE TABLE Posts (
  id INT PRIMARY KEY IDENTITY,
  userId INT FOREIGN KEY REFERENCES Users(id),
  title NVARCHAR(255) NOT NULL,
  content NVARCHAR(MAX) NOT NULL
);

CREATE TABLE Likes (
  id INT PRIMARY KEY IDENTITY,
  postId INT FOREIGN KEY REFERENCES Posts(id),
  userId INT FOREIGN KEY REFERENCES Users(id),
  UNIQUE(postId, userId)
);

CREATE TABLE Comments (
  id INT PRIMARY KEY IDENTITY,
  content NVARCHAR(MAX) NOT NULL,
  userId INT FOREIGN KEY REFERENCES Users(id),
  postId INT FOREIGN KEY REFERENCES Posts(id)
);

CREATE TABLE Shares (
  id INT PRIMARY KEY IDENTITY,
  postId INT FOREIGN KEY REFERENCES Posts(id),
  userId INT FOREIGN KEY REFERENCES Users(id),
  UNIQUE(postId, userId)
);